---
layout: post
title:  JVM优化
date:   2019-06-06 08:00:00 +0800
categories: jvm
tag:
- jvm
---

## 堆溢出
### 内存泄漏
-XX:+HeapDumpOnOutOfMemoryError：堆溢出的时候将当时的堆存储情况存下来，GC Root引用链可查出泄露位置
GC Root包括以下几种对象：   
* 虚拟机栈中引用的对象   
* 本地方法栈中JNI引用的对象   
* 方法区中类静态成员变量引用的对象   
* 方法区中常量引用的对象   
[常见内存泄漏](https://blog.csdn.net/zhousenshan/article/details/52864277)

### 内存设置不够
-Xms 初始堆大小 -Xmx 最大堆大小

|**类型**|**参数**|**描述**|
|:----|:----|:----|
|堆内存大小|`-Xms`|启动JVM时堆内存的大小|
| |`-Xmx`|堆内存最大限制|
|新生代空间大小|`-XX:NewRatio`|新生代和老年代的内存比|
| |`-XX:NewSize`|新生代内存大小|
| |`-XX:SurvivorRatio`|Eden区和Survivor区的内存比|
